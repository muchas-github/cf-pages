!function(C,d){"use strict";function o(A,g,h,t,e){function r(){var n,i,o,l;w=1<C.devicePixelRatio,h=a(h),0<=g.delay&&setTimeout(function(){u(!0)},g.delay),(g.delay<0||g.combined)&&(t.e=(n=g.throttle,i=function(t){"resize"===t.type&&(y=z=-1),u(t.all)},l=0,function(t,e){function r(){l=+new Date,i.call(A,t)}var a=+new Date-l;o&&clearTimeout(o),n<a||!g.enableThrottle||e?r():o=setTimeout(r,n-a)}),t.a=function(t){t=a(t),h.push.apply(h,t)},t.g=function(){return h=O(h).filter(function(){return!O(this).data(g.loadedName)})},t.f=function(t){for(var e=0;e<t.length;e++){var r=h.filter(function(){return this===t[e]});r.length&&u(!1,r)}},u(),O(g.appendScroll).on("scroll."+e+" resize."+e,t.e))}function a(t){for(var e=g.defaultImage,r=g.placeholder,a=g.imageBase,n=g.srcsetAttribute,i=g.loaderAttribute,o=g._f||{},l=0,u=(t=O(t).filter(function(){var t=O(this),e=m(this);return!t.data(g.handledName)&&(t.attr(g.attribute)||t.attr(n)||t.attr(i)||o[e]!==d)}).data("plugin_"+g.name,A)).length;l<u;l++){var f=O(t[l]),c=m(t[l]),s=f.attr(g.imageBaseAttribute)||a;c===D&&s&&f.attr(n)&&f.attr(n,function(t,e){if(e){var r=t.split(",");t="";for(var a=0,n=r.length;a<n;a++)t+=e+r[a].trim()+(a!==n-1?",":"")}return t}(f.attr(n),s)),o[c]===d||f.attr(i)||f.attr(i,o[c]),c===D&&e&&!f.attr(I)?f.attr(I,e):c===D||!r||f.css(F)&&"none"!==f.css(F)||f.css(F,"url('"+r+"')")}return t}function u(t,e){if(!h.length)return g.autoDestroy&&A.destroy(),0;for(var r,a,n,i,o,l=e||h,u=!1,f=g.imageBase||"",c=g.srcsetAttribute,s=g.handledName,d=0;d<l.length;d++)(t||e||(a=l[d],n=o=i=n=void 0,n=a.getBoundingClientRect(),i=g.scrollDirection,o=g.threshold,a=(0<=z?z:z=O(C).height())+o>n.top&&-o<n.bottom,n=(0<=y?y:y=O(C).width())+o>n.left&&-o<n.right,"vertical"===i?a:("horizontal"===i||a)&&n))&&(r=O(l[d]),o=m(l[d]),i=r.attr(g.attribute),a=r.attr(g.imageBaseAttribute)||f,n=r.attr(g.loaderAttribute),r.data(s)||g.visibleOnly&&!r.is(":visible")||!((i||r.attr(c))&&(o===D&&(a+i!==r.attr(I)||r.attr(c)!==r.attr(N))||o!==D&&a+i!==r.css(F))||n)||(r.data(s,u=!0),function(e,t,r,a){++p;var n=function(){v("onError",e),b(),n=O.noop};v("beforeLoad",e);var i=g.attribute,o=g.srcsetAttribute,l=g.sizesAttribute,u=g.retinaAttribute,f=g.removeAttribute,c=g.loadedName,s=e.attr(u);{var d,A;a?(d=function(){f&&e.removeAttr(g.loaderAttribute),e.data(c,!0),v(B,e),setTimeout(b,1),d=O.noop},e.off(T).one(T,n).one(L,d),v(a,e,function(t){t?(e.off(L),d()):(e.off(T),n())})||e.trigger(T)):((A=O(new Image)).one(T,n).one(L,function(){e.hide(),t===D?e.attr(E,A.attr(E)).attr(N,A.attr(N)).attr(I,A.attr(I)):e.css(F,"url('"+A.attr(I)+"')"),e[g.effect](g.effectTime),f&&(e.removeAttr(i+" "+o+" "+u+" "+g.imageBaseAttribute),l!==E&&e.removeAttr(l)),e.data(c,!0),v(B,e),A.remove(),b()}),s=(w&&s?s:e.attr(i))||"",A.attr(E,e.attr(l)).attr(N,e.attr(o)).attr(I,s?r+s:null),A.complete&&A.trigger(L))}}(r,o,a,n)));u&&(h=O(h).filter(function(){return!O(this).data(s)}))}function m(t){return t.tagName.toLowerCase()}function b(){--p,h.length||p||v("onFinishedAll")}function v(t){return(t=g[t])&&(t.apply(A,[].slice.call(arguments,1)),1)}var p=0,y=-1,z=-1,w=!1,B="afterLoad",L="load",T="error",D="img",I="src",N="srcset",E="sizes",F="background-image";"event"===g.bind||n?r():O(C).on(L+"."+e,r)}function f(t,e){var r=this,a=O.extend({},r.config,e),n={},i=a.name+"-"+ ++l;return r.config=function(t,e){return e===d?a[t]:(a[t]=e,r)},r.addItems=function(t){return n.a&&n.a("string"===O.type(t)?O(t):t),r},r.getItems=function(){return n.g?n.g():{}},r.update=function(t){return n.e&&n.e({},!t),r},r.force=function(t){return n.f&&n.f("string"===O.type(t)?O(t):t),r},r.loadAll=function(){return n.e&&n.e({all:!0},!0),r},r.destroy=function(){return O(a.appendScroll).off("."+i,n.e),O(C).off("."+i),n={},d},o(r,a,t,n,i),a.chainable?t:r}var O=C.jQuery||C.Zepto,l=0,n=!1;O.fn.Lazy=O.fn.lazy=function(t){return new f(this,t)},O.Lazy=O.lazy=function(t,e,r){if(O.isFunction(e)&&(r=e,e=[]),O.isFunction(r)){t=O.isArray(t)?t:[t],e=O.isArray(e)?e:[e];for(var a=f.prototype.config,n=a._f||(a._f={}),i=0,o=t.length;i<o;i++)a[t[i]]!==d&&!O.isFunction(a[t[i]])||(a[t[i]]=r);for(var l=0,u=e.length;l<u;l++)n[e[l]]=t[0]}},f.prototype.config={name:"lazy",chainable:!0,autoDestroy:!0,bind:"load",threshold:500,visibleOnly:!1,appendScroll:C,scrollDirection:"both",imageBase:null,defaultImage:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",placeholder:null,delay:-1,combined:!1,attribute:"data-src",srcsetAttribute:"data-srcset",sizesAttribute:"data-sizes",retinaAttribute:"data-retina",loaderAttribute:"data-loader",imageBaseAttribute:"data-imagebase",removeAttribute:!0,handledName:"handled",loadedName:"loaded",effect:"show",effectTime:0,enableThrottle:!0,throttle:250,beforeLoad:d,afterLoad:d,onError:d,onFinishedAll:d},O(C).on("load",function(){n=!0})}(window);